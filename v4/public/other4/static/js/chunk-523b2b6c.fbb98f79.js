(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-523b2b6c"],{"14c6":function(e,n,t){"use strict";t("6acb")},"6acb":function(e,n,t){},"714c":function(e,n,t){"use strict";t.r(n);var r=t("7a23"),o=Object(r["createElementVNode"])("p",{class:"tip"},[Object(r["createTextVNode"])(" 表格不支持拖动功能；简单示例： "),Object(r["createElementVNode"])("a",{class:"link",href:"https://www.npmjs.com/package/sortablejs",target:"_blank"},"sortablejs"),Object(r["createTextVNode"])(" 等库实现列移动"),Object(r["createElementVNode"])("br"),Object(r["createElementVNode"])("a",{class:"link",href:"https://www.npmjs.com/package/vxe-table",target:"_blank"},"vxe-table"),Object(r["createTextVNode"])(" 作为表格组件，可以很容易跟其他优秀的组件库互相集成，以下为简单示例可供参考。"),Object(r["createElementVNode"])("br"),Object(r["createTextVNode"])(" 由于直接操作了 Dom 节点，需要与 Vue 的数据同步，必须设置 column-config.useKey，并且自行根据 vue 的规则自行实现数据同步"),Object(r["createElementVNode"])("br"),Object(r["createElementVNode"])("span",{class:"red"},"（注：该示例仅供参考，具体请自行实现）")],-1),a={class:"demo-code"},l=Object(r["createTextVNode"])("      "),c=Object(r["createTextVNode"])("\r\n      "),d=Object(r["createTextVNode"])("\r\n      "),i=Object(r["createTextVNode"])("\r\n    ");function s(e,n,t,s,u,m){var f=Object(r["resolveComponent"])("vxe-grid"),b=Object(r["resolveComponent"])("pre-code");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[o,Object(r["createVNode"])(f,Object(r["mergeProps"])({ref:"xGrid2"},e.gridOptions2),null,16),Object(r["createElementVNode"])("p",a,Object(r["toDisplayString"])(e.$t("app.body.button.showCode")),1),Object(r["createElementVNode"])("pre",null,[l,Object(r["createVNode"])(b,{class:"xml"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.demoCodes[0]),1)]})),_:1}),c,Object(r["createVNode"])(b,{class:"typescript"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.demoCodes[1]),1)]})),_:1}),d,Object(r["createVNode"])(b,{class:"css"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.demoCodes[2]),1)]})),_:1}),i])])}t("d3b7"),t("159b"),t("a9e3"),t("d81d"),t("caad"),t("c7cd"),t("a434");var u=t("55db"),m=t("a352"),f=t.n(m),b=Object(r["defineComponent"])({setup:function(){var e,n,t=Object(r["ref"])({}),o=function(e,n){var t=0;return e.forEach((function(e){t+=Number(e[n])})),t/e.length},a=function(e,n){var t=0;return e.forEach((function(e){t+=Number(e[n])})),t},l=Object(r["reactive"])({border:!0,showFooter:!0,class:"sortable-column-demo",columnConfig:{useKey:!0,minWidth:200},scrollX:{enabled:!1},toolbarConfig:{custom:!0},columns:[{field:"name",title:"Name",fixed:"left",width:300},{field:"nickname",title:"Nickname"},{field:"role",title:"Role"},{field:"sex",title:"Sex"},{field:"age",title:"Age"},{field:"date3",title:"Date"},{field:"address",title:"Address",width:200,fixed:"right",showOverflow:!0}],data:[{id:10001,name:"Test1",nickname:"T1",role:"Develop",sex:"Man",age:28,address:"Shenzhen"},{id:10002,name:"Test2",nickname:"T2",role:"Test",sex:"Women",age:22,address:"Guangzhou"},{id:10003,name:"Test3",nickname:"T3",role:"PM",sex:"Man",age:32,address:"Shanghai"},{id:10004,name:"Test4",nickname:"T4",role:"Designer",sex:"Women",age:23,address:"Shenzhen"},{id:10005,name:"Test5",nickname:"T5",role:"Develop",sex:"Women",age:30,address:"Shanghai"}],footerMethod:function(e){var n=e.columns,t=e.data;return[n.map((function(e,n){return 0===n?"平均":["age","sex"].includes(e.property)?o(t,e.property):null})),n.map((function(e,n){return 0===n?"和值":["age","sex"].includes(e.property)?a(t,e.property):null}))]}}),c=function(){var n=t.value;e=f.a.create(n.$el.querySelector(".body--wrapper>.vxe-table--header .vxe-header--row"),{handle:".vxe-header--column",onEnd:function(e){var t=e.item,r=e.newIndex,o=e.oldIndex,a=n.getTableColumn(),l=a.fullColumn,c=a.tableColumn,d=t.parentNode,i=l[r];if(i.fixed){var s=d.children[o];return r>o?d.insertBefore(t,s):d.insertBefore(t,s?s.nextElementSibling:s),void u["a"].modal.message({content:"固定列不允许拖动！",status:"error"})}var m=n.getColumnIndex(c[o]),f=n.getColumnIndex(c[r]),b=l.splice(m,1)[0];l.splice(f,0,b),n.loadColumn(l)}})};return Object(r["nextTick"])((function(){n=setTimeout((function(){c()}),500)})),Object(r["onUnmounted"])((function(){clearTimeout(n),e&&e.destroy()})),{xGrid2:t,gridOptions2:l,columnDrop2:c,demoCodes:['\n        <vxe-grid ref="xGrid2" v-bind="gridOptions2"></vxe-grid>\n        ',"\n        import { defineComponent, reactive, ref, onUnmounted, nextTick } from 'vue'\n        import { VXETable, VxeGridInstance, VxeGridProps } from 'vxe-table'\n        import Sortable from 'sortablejs'\n\n        export default defineComponent({\n          setup () {\n            const xGrid2 = ref({} as VxeGridInstance)\n\n            const meanNum = (list: any[], field: string) => {\n              let count = 0\n              list.forEach(item => {\n                count += Number(item[field])\n              })\n              return count / list.length\n            }\n\n            const sumNum = (list: any[], field: string) => {\n              let count = 0\n              list.forEach(item => {\n                count += Number(item[field])\n              })\n              return count\n            }\n\n            const gridOptions2 = reactive({\n              border: true,\n              showFooter: true,\n              class: 'sortable-column-demo',\n              columnConfig: {\n                useKey: true\n              },\n              scrollX: {\n                enabled: false\n              },\n              toolbarConfig: {\n                custom: true\n              },\n              columns: [\n                { field: 'name', title: 'Name', fixed: 'left', width: 300 },\n                { field: 'nickname', title: 'Nickname' },\n                { field: 'role', title: 'Role' },\n                { field: 'sex', title: 'Sex' },\n                { field: 'age', title: 'Age' },\n                { field: 'date3', title: 'Date' },\n                { field: 'address', title: 'Address', width: 200, fixed: 'right', showOverflow: true }\n              ],\n              data: [\n                { id: 10001, name: 'Test1', nickname: 'T1', role: 'Develop', sex: 'Man', age: 28, address: 'Shenzhen' },\n                { id: 10002, name: 'Test2', nickname: 'T2', role: 'Test', sex: 'Women', age: 22, address: 'Guangzhou' },\n                { id: 10003, name: 'Test3', nickname: 'T3', role: 'PM', sex: 'Man', age: 32, address: 'Shanghai' },\n                { id: 10004, name: 'Test4', nickname: 'T4', role: 'Designer', sex: 'Women', age: 23, address: 'Shenzhen' },\n                { id: 10005, name: 'Test5', nickname: 'T5', role: 'Develop', sex: 'Women', age: 30, address: 'Shanghai' }\n              ],\n              footerMethod ({ columns, data }) {\n                return [\n                  columns.map((column, columnIndex) => {\n                    if (columnIndex === 0) {\n                      return '平均'\n                    }\n                    if (['age', 'sex'].includes(column.property)) {\n                      return meanNum(data, column.property)\n                    }\n                    return null\n                  }),\n                  columns.map((column, columnIndex) => {\n                    if (columnIndex === 0) {\n                      return '和值'\n                    }\n                    if (['age', 'sex'].includes(column.property)) {\n                      return sumNum(data, column.property)\n                    }\n                    return null\n                  })\n                ]\n              }\n            } as VxeGridProps)\n\n            let sortable2: any\n\n            const columnDrop2 = () => {\n              const $grid = xGrid2.value\n              sortable2 = Sortable.create($grid.$el.querySelector('.body--wrapper>.vxe-table--header .vxe-header--row'), {\n                handle: '.vxe-header--column',\n                onEnd: (sortableEvent) => {\n                  const targetThElem = sortableEvent.item\n                  const newIndex = sortableEvent.newIndex as number\n                  const oldIndex = sortableEvent.oldIndex as number\n                  const { fullColumn, tableColumn } = $grid.getTableColumn()\n                  const wrapperElem = targetThElem.parentNode as HTMLElement\n                  const newColumn = fullColumn[newIndex]\n                  if (newColumn.fixed) {\n                    // 错误的移动\n                    const oldThElem = wrapperElem.children[oldIndex] as HTMLElement\n                    if (newIndex > oldIndex) {\n                      wrapperElem.insertBefore(targetThElem, oldThElem)\n                    } else {\n                      wrapperElem.insertBefore(targetThElem, oldThElem ? oldThElem.nextElementSibling : oldThElem)\n                    }\n                    VXETable.modal.message({ content: '固定列不允许拖动！', status: 'error' })\n                    return\n                  }\n                  // 获取列索引 columnIndex > fullColumn\n                  const oldColumnIndex = $grid.getColumnIndex(tableColumn[oldIndex])\n                  const newColumnIndex = $grid.getColumnIndex(tableColumn[newIndex])\n                  // 移动到目标列\n                  const currRow = fullColumn.splice(oldColumnIndex, 1)[0]\n                  fullColumn.splice(newColumnIndex, 0, currRow)\n                  $grid.loadColumn(fullColumn)\n                }\n              })\n            }\n\n            let initTime: any\n            nextTick(() => {\n              // 加载完成之后在绑定拖动事件\n              initTime = setTimeout(() => {\n                columnDrop2()\n              }, 500)\n            })\n\n            onUnmounted(() => {\n              clearTimeout(initTime)\n              if (sortable2) {\n                sortable2.destroy()\n              }\n            })\n\n            return {\n              xGrid2,\n              gridOptions2,\n              columnDrop2\n            }\n          }\n        })\n        ","\n        .sortable-column-demo .vxe-header--row .vxe-header--column.sortable-ghost,\n        .sortable-column-demo .vxe-header--row .vxe-header--column.sortable-chosen {\n          background-color: #dfecfb;\n        }\n        .sortable-column-demo .vxe-header--row .vxe-header--column.col--fixed {\n          cursor: no-drop;\n        }\n        "]}}}),p=(t("14c6"),t("6b0d")),x=t.n(p);const g=x()(b,[["render",s]]);n["default"]=g},"857a":function(e,n,t){var r=t("e330"),o=t("1d80"),a=t("577e"),l=/"/g,c=r("".replace);e.exports=function(e,n,t,r){var d=a(o(e)),i="<"+n;return""!==t&&(i+=" "+t+'="'+c(a(r),l,"&quot;")+'"'),i+">"+d+"</"+n+">"}},a9e3:function(e,n,t){"use strict";var r=t("83ab"),o=t("da84"),a=t("e330"),l=t("94ca"),c=t("6eeb"),d=t("1a2d"),i=t("7156"),s=t("3a9b"),u=t("d9b5"),m=t("c04e"),f=t("d039"),b=t("241c").f,p=t("06cf").f,x=t("9bf2").f,g=t("408a"),h=t("58a8").trim,T="Number",v=o[T],N=v.prototype,w=o.TypeError,E=a("".slice),O=a("".charCodeAt),j=function(e){var n=m(e,"number");return"bigint"==typeof n?n:C(n)},C=function(e){var n,t,r,o,a,l,c,d,i=m(e,"number");if(u(i))throw w("Cannot convert a Symbol value to a number");if("string"==typeof i&&i.length>2)if(i=h(i),n=O(i,0),43===n||45===n){if(t=O(i,2),88===t||120===t)return NaN}else if(48===n){switch(O(i,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+i}for(a=E(i,2),l=a.length,c=0;c<l;c++)if(d=O(a,c),d<48||d>o)return NaN;return parseInt(a,r)}return+i};if(l(T,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var I,V=function(e){var n=arguments.length<1?0:v(j(e)),t=this;return s(N,t)&&f((function(){g(t)}))?i(Object(n),t,V):n},y=r?b(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),k=0;y.length>k;k++)d(v,I=y[k])&&!d(V,I)&&x(V,I,p(v,I));V.prototype=N,N.constructor=V,c(o,T,V)}},af03:function(e,n,t){var r=t("d039");e.exports=function(e){return r((function(){var n=""[e]('"');return n!==n.toLowerCase()||n.split('"').length>3}))}},c7cd:function(e,n,t){"use strict";var r=t("23e7"),o=t("857a"),a=t("af03");r({target:"String",proto:!0,forced:a("fixed")},{fixed:function(){return o(this,"tt","","")}})}}]);