(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fc6fb5c"],{7213:function(e,t,n){},"80f7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("vxe-table",{ref:"xTable1",staticClass:"sortable-row-demo",attrs:{border:"","row-key":"","scroll-y":{enabled:!1},data:e.tableData}},[n("vxe-column",{attrs:{width:"60"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",{staticClass:"drag-btn"},[n("i",{staticClass:"vxe-icon--menu"})])]},proxy:!0},{key:"header",fn:function(){return[n("vxe-tooltip",{attrs:{content:"按住后可以上下拖动排序！",enterable:""},model:{value:e.showHelpTip1,callback:function(t){e.showHelpTip1=t},expression:"showHelpTip1"}},[n("i",{staticClass:"vxe-icon--question",on:{click:function(t){e.showHelpTip1=!e.showHelpTip1}}})])]},proxy:!0}])}),n("vxe-column",{attrs:{field:"name",title:"Name"}}),n("vxe-column",{attrs:{field:"sex",title:"Sex"}}),n("vxe-column",{attrs:{field:"age",title:"Age"}}),n("vxe-column",{attrs:{field:"address",title:"Address","show-overflow":""}})],1),n("p",{staticClass:"demo-code"},[e._v(e._s(e.$t("app.body.button.showCode")))]),n("pre",[e._v("    "),n("pre-code",{staticClass:"xml"},[e._v(e._s(e.demoCodes[0]))]),e._v("\n    "),n("pre-code",{staticClass:"javascript"},[e._v(e._s(e.demoCodes[1]))]),e._v("\n    "),n("pre-code",{staticClass:"css"},[e._v(e._s(e.demoCodes[2]))]),e._v("\n  ")],1),e._m(1),n("vxe-grid",{ref:"xTable2",staticClass:"sortable-tree-demo",attrs:{border:"","row-key":"","scroll-y":{enabled:!1},columns:e.tableColumn,data:e.tableTreeData,"tree-config":{children:"children"}}}),n("p",{staticClass:"demo-code"},[e._v(e._s(e.$t("app.body.button.showCode")))]),n("pre",[e._v("    "),n("pre-code",{staticClass:"xml"},[e._v(e._s(e.demoCodes[3]))]),e._v("\n    "),n("pre-code",{staticClass:"javascript"},[e._v(e._s(e.demoCodes[4]))]),e._v("\n    "),n("pre-code",{staticClass:"css"},[e._v(e._s(e.demoCodes[5]))]),e._v("\n  ")],1)],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"tip"},[e._v(" 表格不支持拖动功能；简单示例： "),n("a",{staticClass:"link",attrs:{href:"https://www.npmjs.com/package/sortablejs",target:"_blank"}},[e._v("sortablejs")]),e._v(" 等库实现行拖动"),n("br"),n("a",{staticClass:"link",attrs:{href:"https://www.npmjs.com/package/vxe-table",target:"_blank"}},[e._v("vxe-table")]),e._v(" 作为表格组件，可以很容易跟其他优秀的组件库互相集成，以下为简单示例可供参考。"),n("br"),e._v(" 由于直接操作了 Dom 节点，需要与 Vue 的数据同步，必须设置 row-key，并且自行根据 vue 的规则自行实现数据同步"),n("br"),n("span",{staticClass:"red"},[e._v("（注：该示例仅供参考，具体请自行实现）")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"tip"},[e._v(" 简单示例："),n("br"),n("span",{staticClass:"red"},[e._v("（注：该示例仅供参考，具体请自行实现）")])])}];function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e){if(Array.isArray(e))return r(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n("fb6a"),n("b0c0"),n("ac1f"),n("00b4");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}n("d9e2");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return o(e)||l(e)||i(e)||d()}n("a434");var p=n("a352"),m=n.n(p),b=n("c695"),u=n.n(b),f=n("a388"),v=n.n(f),h={data:function(){var e=this,t=this.$createElement;return{showHelpTip1:!1,showHelpTip2:!1,tableData:[{id:10001,name:"Test1",nickname:"T1",role:"Develop",sex:"Man",age:28,address:"Shenzhen"},{id:10002,name:"Test2",nickname:"T2",role:"Test",sex:"Women",age:22,address:"Guangzhou"},{id:10003,name:"Test3",nickname:"T3",role:"PM",sex:"Man",age:32,address:"Shanghai"},{id:10004,name:"Test4",nickname:"T4",role:"Designer",sex:"Women",age:23,address:"Shenzhen"},{id:10005,name:"Test5",nickname:"T5",role:"Develop",sex:"Women",age:30,address:"Shanghai"}],tableColumn:[{width:60,slots:{default:function(){return[t("span",{class:"drag-btn"},[t("i",{class:"vxe-icon--menu"})])]},header:function(){return[t("vxe-tooltip",{attrs:{content:"按住后可以上下拖动排序！",enterable:!0},model:{value:e.showHelpTip2,callback:function(t){e.showHelpTip2=t}}},[t("i",{class:"vxe-icon--question",on:{click:function(){e.showHelpTip2=!e.showHelpTip2}}})])]}}},{field:"name",title:"Name",treeNode:!0},{field:"size",title:"Size"},{field:"type",title:"Type"},{field:"date",title:"Date"}],tableTreeData:[{id:1e3,name:"test abc1",type:"mp3",size:1024,date:"2020-08-01"},{id:1005,name:"Test2",type:"mp4",size:null,date:"2021-04-01",children:[{id:24300,name:"Test3",type:"avi",size:1024,date:"2020-03-01"},{id:20045,name:"test abc4",type:"html",size:600,date:"2021-04-01"},{id:10053,name:"test abc96",type:"avi",size:null,date:"2021-04-01",children:[{id:24330,name:"test abc5",type:"txt",size:25,date:"2021-10-01"},{id:21011,name:"Test6",type:"pdf",size:512,date:"2020-01-01"},{id:22200,name:"Test7",type:"js",size:1024,date:"2021-06-01"}]}]},{id:23666,name:"Test8",type:"xlsx",size:2048,date:"2020-11-01"},{id:24555,name:"test abc9",type:"avi",size:224,date:"2020-10-01"}],demoCodes:['\n        <vxe-table\n          border\n          row-key\n          ref="xTable1"\n          class="sortable-row-demo"\n          :scroll-y="{enabled: false}"\n          :data="tableData">\n          <vxe-column width="60">\n            <template #default>\n              <span class="drag-btn">\n                <i class="vxe-icon--menu"></i>\n              </span>\n            </template>\n            <template #header>\n              <vxe-tooltip v-model="showHelpTip1" content="按住后可以上下拖动排序！" enterable>\n                <i class="vxe-icon--question" @click="showHelpTip1 = !showHelpTip1"></i>\n              </vxe-tooltip>\n            </template>\n          </vxe-column>\n          <vxe-column field="name" title="Name"></vxe-column>\n          <vxe-column field="sex" title="Sex"></vxe-column>\n          <vxe-column field="age" title="Age"></vxe-column>\n          <vxe-column field="address" title="Address" show-overflow></vxe-column>\n        </vxe-table>\n        ',"\n        import Sortable from 'sortablejs'\n        import XEUtils from 'xe-utils'\n\n        export default {\n          data () {\n            return {\n              showHelpTip1: false,\n              tableData: [\n                { id: 10001, name: 'Test1', nickname: 'T1', role: 'Develop', sex: 'Man', age: 28, address: 'Shenzhen' },\n                { id: 10002, name: 'Test2', nickname: 'T2', role: 'Test', sex: 'Women', age: 22, address: 'Guangzhou' },\n                { id: 10003, name: 'Test3', nickname: 'T3', role: 'PM', sex: 'Man', age: 32, address: 'Shanghai' },\n                { id: 10004, name: 'Test4', nickname: 'T4', role: 'Designer', sex: 'Women', age: 23, address: 'Shenzhen' },\n                { id: 10005, name: 'Test5', nickname: 'T5', role: 'Develop', sex: 'Women', age: 30, address: 'Shanghai' }\n              ]\n            }\n          },\n          created () {\n            this.rowDrop()\n          },\n          beforeDestroy () {\n            if (this.sortable1) {\n              this.sortable1.destroy()\n            }\n          },\n          methods: {\n            rowDrop () {\n              this.$nextTick(() => {\n                const xTable = this.$refs.xTable1\n                this.sortable1 = Sortable.create(xTable.$el.querySelector('.body--wrapper>.vxe-table--body tbody'), {\n                  handle: '.drag-btn',\n                  onEnd: ({ newIndex, oldIndex }) => {\n                    const currRow = this.tableData.splice(oldIndex, 1)[0]\n                    this.tableData.splice(newIndex, 0, currRow)\n                  }\n                })\n              })\n            }\n          }\n        }\n        ","\n        .sortable-row-demo .drag-btn {\n          cursor: move;\n          font-size: 12px;\n        }\n        .sortable-row-demo .vxe-body--row.sortable-ghost,\n        .sortable-row-demo .vxe-body--row.sortable-chosen {\n          background-color: #dfecfb;\n        }\n        ",'\n        <vxe-grid\n          border\n          row-key\n          ref="xTable2"\n          class="sortable-tree-demo"\n          :scroll-y="{enabled: false}"\n          :columns="tableColumn"\n          :data="tableTreeData"\n          :tree-config="{children: \'children\'}"></vxe-grid>\n        ',"\n        import Sortable from 'sortablejs'\n        import XEUtils from 'xe-utils'\n        import VXETable from 'vxe-table'\n\n        export default {\n          data () {\n            return {\n              showHelpTip2: false,\n              tableTreeData: [\n                { id: 1000, name: 'test abc1', type: 'mp3', size: 1024, date: '2020-08-01' },\n                {\n                  id: 1005,\n                  name: 'Test2',\n                  type: 'mp4',\n                  size: null,\n                  date: '2021-04-01',\n                  children: [\n                    { id: 24300, name: 'Test3', type: 'avi', size: 1024, date: '2020-03-01' },\n                    { id: 20045, name: 'test abc4', type: 'html', size: 600, date: '2021-04-01' },\n                    {\n                      id: 10053,\n                      name: 'test abc96',\n                      type: 'avi',\n                      size: null,\n                      date: '2021-04-01',\n                      children: [\n                        { id: 24330, name: 'test abc5', type: 'txt', size: 25, date: '2021-10-01' },\n                        { id: 21011, name: 'Test6', type: 'pdf', size: 512, date: '2020-01-01' },\n                        { id: 22200, name: 'Test7', type: 'js', size: 1024, date: '2021-06-01' }\n                      ]\n                    }\n                  ]\n                },\n                { id: 23666, name: 'Test8', type: 'xlsx', size: 2048, date: '2020-11-01' },\n                { id: 24555, name: 'test abc9', type: 'avi', size: 224, date: '2020-10-01' }\n              ],\n              tableColumn: [\n                {\n                  width: 60,\n                  slots: {\n                    default: () => {\n                      return [\n                        <span class=\"drag-btn\">\n                          <i class=\"vxe-icon--menu\"></i>\n                        </span>\n                      ]\n                    },\n                    header: () => {\n                      return [\n                        <vxe-tooltip v-model={ this.showHelpTip2 } content=\"按住后可以上下拖动排序！\" enterable>\n                          <i class=\"vxe-icon--question\" onClick={ () => { this.showHelpTip2 = !this.showHelpTip2 } }></i>\n                        </vxe-tooltip>\n                      ]\n                    }\n                  }\n                },\n                { field: 'name', title: 'Name', treeNode: true },\n                { field: 'size', title: 'Size' },\n                { field: 'type', title: 'Type' },\n                { field: 'date', title: 'Date' }\n              ]\n            }\n          },\n          created () {\n            this.treeDrop()\n          },\n          beforeDestroy () {\n            if (this.sortable2) {\n              this.sortable2.destroy()\n            }\n          },\n          methods: {\n            treeDrop () {\n              this.$nextTick(() => {\n                const xTable = this.$refs.xTable2\n                this.sortable2 = Sortable.create(xTable.$el.querySelector('.body--wrapper>.vxe-table--body tbody'), {\n                  handle: '.drag-btn',\n                  onEnd: ({ item, oldIndex }) => {\n                    const options = { children: 'children' }\n                    const targetTrElem = item\n                    const wrapperElem = targetTrElem.parentNode\n                    const prevTrElem = targetTrElem.previousElementSibling\n                    const tableTreeData = this.tableTreeData\n                    const selfRow = xTable.getRowNode(targetTrElem).item\n                    const selfNode = XEUtils.findTree(tableTreeData, row => row === selfRow, options)\n                    if (prevTrElem) {\n                      // 移动到节点\n                      const prevRow = xTable.getRowNode(prevTrElem).item\n                      const prevNode = XEUtils.findTree(tableTreeData, row => row === prevRow, options)\n                      if (XEUtils.findTree(selfRow[options.children], row => prevRow === row, options)) {\n                        // 错误的移动\n                        const oldTrElem = wrapperElem.children[oldIndex]\n                        wrapperElem.insertBefore(targetTrElem, oldTrElem)\n                        return VXETable.modal.message({ content: '不允许自己给自己拖动！', status: 'error' })\n                      }\n                      const currRow = selfNode.items.splice(selfNode.index, 1)[0]\n                      if (xTable.isTreeExpandByRow(prevRow)) {\n                        // 移动到当前的子节点\n                        prevRow[options.children].splice(0, 0, currRow)\n                      } else {\n                        // 移动到相邻节点\n                        prevNode.items.splice(prevNode.index + (selfNode.index < prevNode.index ? 0 : 1), 0, currRow)\n                      }\n                    } else {\n                      // 移动到第一行\n                      const currRow = selfNode.items.splice(selfNode.index, 1)[0]\n                      tableTreeData.unshift(currRow)\n                    }\n                    // 如果变动了树层级，需要刷新数据\n                    this.tableTreeData = [...tableTreeData]\n                  }\n                })\n              })\n            }\n          }\n        }\n        ","\n        .sortable-tree-demo .drag-btn {\n          cursor: move;\n          font-size: 12px;\n        }\n        .sortable-tree-demo .vxe-body--row.sortable-ghost,\n        .sortable-tree-demo .vxe-body--row.sortable-chosen {\n          background-color: #dfecfb;\n        }\n        "]}},created:function(){this.rowDrop(),this.treeDrop()},beforeDestroy:function(){this.sortable1&&this.sortable1.destroy(),this.sortable2&&this.sortable2.destroy()},methods:{rowDrop:function(){var e=this;this.$nextTick((function(){var t=e.$refs.xTable1;e.sortable1=m.a.create(t.$el.querySelector(".body--wrapper>.vxe-table--body tbody"),{handle:".drag-btn",onEnd:function(t){var n=t.newIndex,a=t.oldIndex,s=e.tableData.splice(a,1)[0];e.tableData.splice(n,0,s)}})}))},treeDrop:function(){var e=this;this.$nextTick((function(){var t=e.$refs.xTable2;e.sortable2=m.a.create(t.$el.querySelector(".body--wrapper>.vxe-table--body tbody"),{handle:".drag-btn",onEnd:function(n){var a=n.item,s=n.oldIndex,r={children:"children"},o=a,l=o.parentNode,i=o.previousElementSibling,d=e.tableTreeData,p=t.getRowNode(o).item,m=u.a.findTree(d,(function(e){return e===p}),r);if(i){var b=t.getRowNode(i).item,f=u.a.findTree(d,(function(e){return e===b}),r);if(u.a.findTree(p[r.children],(function(e){return b===e}),r)){var h=l.children[s];return l.insertBefore(o,h),v.a.modal.message({content:"不允许自己给自己拖动！",status:"error"})}var x=m.items.splice(m.index,1)[0];t.isTreeExpandByRow(b)?b[r.children].splice(0,0,x):f.items.splice(f.index+(m.index<f.index?0:1),0,x)}else{var T=m.items.splice(m.index,1)[0];d.unshift(T)}e.tableTreeData=c(d)}})}))}}},x=h,T=(n("b69f"),n("2877")),w=Object(T["a"])(x,a,s,!1,null,null,null);t["default"]=w.exports},b69f:function(e,t,n){"use strict";n("7213")}}]);